package main

import (
	"fmt"
	"math"
)

const MAX = math.MaxInt64

// Функция для нахождения кратчайшего гамильтонова цикла





































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































func tsp(graph [][]int) int {
	n := len(graph)
	dp := make([][]int, n)
	for i := range dp {
		dp[i] = make([]int, 1<<n) // Инициализация двумерного массива
		for j := range dp[i] {
			dp[i][j] = MAX // Установка максимального значения
		}
	}
	dp[0][1] = 0 // Начинаем с вершины 0

	for mask := 1; mask < (1 << n); mask++ {
		for u := 0; u < n; u++ {
			if mask&(1<<u) != 0 { // Проверяем, если вершина u в текущем маске
				for v := 0; v < n; v++ {
					if mask&(1<<v) == 0 { // Если вершина v не в маске
						newMask := mask | (1 << v)
						dp[v][newMask] = min(dp[v][newMask], dp[u][mask]+graph[u][v])
					}
				}
			}
		}
	}

	answer := MAX
	for i := 1; i < n; i++ {
		answer = min(answer, dp[i][(1<<n)-1]+graph[i][0]) // Возврат в начальную вершину
	}
	return answer
}

// Функция для нахождения минимума между двумя числами
func min(a, b int) int {
	if a < b {
		return a
	}
	return b
}

func main() {
	graph := [][]int{
		{0, 10, 15, 20},
		{10, 0, 35, 25},
		{15, 35, 0, 30},
		{20, 25, 30, 0},
	}

	result := tsp(graph)
	fmt.Printf("Длина кратчайшего гамильтонова цикла: %d\n", result)
}
